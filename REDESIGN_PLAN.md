# –í–ì–õ–¢–£ –ë–æ—Ç - –ü–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏–π UX/UI

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
1. **404 –û—à–∏–±–∫–∞ API** - –û–±–Ω–æ–≤–∏–ª–∏ URLs –Ω–∞ `https://kis.vgltu.ru/*`
2. **Admin Broadcast Bug** - –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–∞–Ω–¥

## üé® –†–ï–î–ò–ó–ê–ô–ù UX/UI

### 1. –£–¥–∞–ª–∏—Ç—å ReplyKeyboard
**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–Ω–æ–ø–∫–∞ "–°—Ç–∞—Ä—Ç" –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç –≤–º–µ—Å—Ç–æ –∫–æ–º–∞–Ω–¥—ã
**–†–µ—à–µ–Ω–∏–µ**: –£–±—Ä–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é ReplyKeyboard, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ InlineKeyboard

#### –ú–µ—Å—Ç–∞ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:
- `app/handlers.py:514` - `get_default_reply_keyboard()` - –£–î–ê–õ–ò–¢–¨
- `app/handlers.py:977` - –≤ —Ç–µ–∫—Å—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è - –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ InlineKeyboard
- `app/handlers.py:1055` - –≤ —Ç–µ–∫—Å—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è - –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ InlineKeyboard

### 2. –£–ª—É—á—à–∏—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
**–¶–µ–ª—å**: –ö—Ä–∞—Å–∏–≤—ã–µ, –ø—Ä–æ—Ñ–µ—Å—Å–∏ –æ–Ω–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å —ç–º–æ–¥–∑–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

#### –ü—Ä–∏–º–µ—Ä—ã —É–ª—É—á—à–µ–Ω–∏–π:
```
–ë—ã–ª–æ:
"–ü—Ä–∏–≤–µ—Ç! –Ø –±–æ—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –í–ì–õ–¢–£"

–°—Ç–∞–Ω–µ—Ç:
"üëã <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –í–ì–õ–¢–£ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ!</b>

–Ø –ø–æ–º–æ–≥—É –≤–∞–º –±—ã—Å—Ç—Ä–æ –ø–æ–ª—É—á–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π.

‚ú® <b>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</b>
‚Ä¢ üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
‚Ä¢ üîî –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚Ä¢ üîç –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ –≥—Ä—É–ø–ø–∞–º
‚Ä¢ üìä –≠–∫—Å–ø–æ—Ä—Ç –≤ PDF –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

–í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ—é —Ä–æ–ª—å:"
```

### 3. –ù–∞–≤–∏–≥–∞—Ü–∏—è
**–î–æ–±–∞–≤–∏—Ç—å –≤–µ–∑–¥–µ:**
- –ö–Ω–æ–ø–∫–∞ "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"
- –ö–Ω–æ–ø–∫–∞ "‚¨ÖÔ∏è –ù–∞–∑–∞–¥"
- –ö–Ω–æ–ø–∫–∞ "üîÑ –û–±–Ω–æ–≤–∏—Ç—å"

### 4. –≠–º–æ–¥–∑–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
- üéì –°—Ç—É–¥–µ–Ω—Ç
- üßë‚Äçüè´ –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å
- üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏
- üì§ –≠–∫—Å–ø–æ—Ä—Ç
- üîç –ü–æ–∏—Å–∫
- ‚úÖ –£—Å–ø–µ—à–Ω–æ
- ‚ùå –û—à–∏–±–∫–∞
- ‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### 5. –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ç–µ–∫—Å—Ç–∞
**–¶–µ–ª—å**: "–°—Ç–∞—Ä—Ç" –∏ "–ú–µ–Ω—é" –¥–æ–ª–∂–Ω—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è –∫–∞–∫ –∫–æ–º–∞–Ω–¥—ã

```python
async def handle_text_message(update, context):
    text = update.message.text
    
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Å–µ–≤–¥–æ-–∫–æ–º–∞–Ω–¥
    if text in ["–°—Ç–∞—Ä—Ç", "Start", "/start"]:
        await start_command(update, context)
        return
    
    if text in ["–ú–µ–Ω—é", "Menu", "/menu"]:
        await show_main_menu(update, context)
        return
    
    # ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
```

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –£–õ–£–ß–®–ï–ù–ò–Ø

### 1. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –£–∂–µ –µ—Å—Ç—å –∫—ç—à –¥–ª—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- –î–æ–±–∞–≤–∏—Ç—å TTL –¥–ª—è –∫—ç—à–∞ (—Å–µ–π—á–∞—Å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ)

### 2. Error Handling
- –£–ª—É—á—à–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –î–æ–±–∞–≤–∏—Ç—å fallback –¥–ª—è 404

### 3. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ Database —É–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ Concurrent updates –≤–∫–ª—é—á–µ–Ω—ã

## üìã –ß–ï–ö–õ–ò–°–¢ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å 404 API
- [x] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–ª—è broadcast
- [ ] –£–¥–∞–ª–∏—Ç—å `get_default_reply_keyboard()`
- [ ] –ó–∞–º–µ–Ω–∏—Ç—å ReplyKeyboard –Ω–∞ InlineKeyboard –≤–µ–∑–¥–µ
- [ ] –£–ª—É—á—à–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ `/start`
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ö—ç–Ω–¥–ª–µ—Ä –¥–ª—è —Ç–µ–∫—Å—Ç–∞ "–°—Ç–∞—Ä—Ç" –∏ "–ú–µ–Ω—é"
- [ ] –£–ª—É—á—à–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤–µ–∑–¥–µ
- [ ] –£–ª—É—á—à–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
