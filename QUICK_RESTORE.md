# Быстрое восстановление базы данных на Amvera

## Проблема
При создании новой учетной записи на Amvera база данных пользователей была потеряна.

## Решение (3 простых шага)

### Шаг 1: Создайте бэкап локальной базы данных

Если у вас есть локальная копия `users.db`:

```bash
python backup_database.py --backup --output users_backup.db
```

Или просто скопируйте файл `users.db` (если он есть в корне проекта).

### Шаг 2: Загрузите файл на Amvera

1. Откройте панель Amvera
2. Перейдите в раздел **"Репозиторий → Data"**
3. Нажмите **"Загрузить файл"** или **"Upload"**
4. Выберите файл `users.db` (или `users_backup.db`)
5. Дождитесь завершения загрузки

**Важно:** Файл должен быть загружен в корень директории `/data`, то есть путь должен быть `/data/users.db`

### Шаг 3: Перезапустите бота

1. Перейдите в раздел **"Управление"** (Management)
2. Нажмите **"Перезапустить"** (Restart)

## Проверка

После перезапуска проверьте логи. Должно появиться:

```
[INFO] Используется файл базы данных: /data/users.db
[INFO] ✅ Инициализировано X активных пользователей для проверки изменений расписания
[INFO] ✅ Восстановлено X задач ежедневных уведомлений
```

## Если локальной базы данных нет

Если у вас нет локальной копии базы данных, то данные восстановить невозможно. Пользователям придется заново настраивать бота.

## Предотвращение проблемы в будущем

1. **Регулярно делайте бэкапы:**
   ```bash
   python backup_database.py --backup --compress
   ```

2. **Храните бэкапы в безопасном месте** (облачное хранилище, локальный компьютер)

3. **Настройте автоматическое резервное копирование** через cron или планировщик задач

## Дополнительная информация

Подробные инструкции см. в файле `RESTORE_DATABASE.md`

