# Инструкция по развертыванию на Amvera

## Быстрая настройка

### 1. Настройте переменную окружения BOT_TOKEN

**ВАЖНО**: Это обязательный шаг!

1. Войдите в панель управления Amvera
2. Перейдите в ваш проект → **Настройки** → **Переменные окружения**
3. Добавьте переменную:
   - **Ключ**: `BOT_TOKEN`
   - **Значение**: ваш токен бота от @BotFather
4. Сохраните изменения

### 2. Отправьте код на Amvera

```bash
git push amvera master
```

### 3. Проверьте логи

После деплоя проверьте логи в панели Amvera:
- Не должно быть ошибок `ModuleNotFoundError`
- Не должно быть ошибок `BOT_TOKEN не задан`
- Бот должен успешно подключиться к Telegram API

## Как это работает

1. При запуске бота, если файл `app/config.py` отсутствует, он автоматически создается из переменных окружения
2. Токен берется из переменной окружения `BOT_TOKEN`
3. Файл `config.py` создается автоматически при первом запуске

## Решение проблем

### Ошибка: "BOT_TOKEN не задан"

**Решение**: Убедитесь, что переменная окружения `BOT_TOKEN` установлена в панели Amvera.

### Ошибка: "ModuleNotFoundError: No module named 'app.config'"

**Решение**: 
1. Проверьте, что переменная `BOT_TOKEN` установлена
2. Перезапустите приложение в панели Amvera
3. Проверьте логи - должно появиться сообщение о создании config.py

### Бот не отвечает

1. Проверьте логи на наличие ошибок
2. Убедитесь, что токен правильный
3. Проверьте, что бот запущен (статус в панели Amvera)

## Обновление кода

После любых изменений:

```bash
git add .
git commit -m "Описание изменений"
git push amvera master
```

Amvera автоматически пересоберет и перезапустит приложение.

## Дополнительные настройки

Если нужно изменить базовые URL API, добавьте переменные окружения:
- `BASE_URL_SCHEDULE` (по умолчанию: `https://kis.vgltu.ru/schedule`)
- `BASE_URL_LIST` (по умолчанию: `https://kis.vgltu.ru/list`)
- `BASE_URL_VGLTU` (по умолчанию: `https://vgltu.ru`)

